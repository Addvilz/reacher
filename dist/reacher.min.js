(function(c){var b=function(e,d){this.name="ReacherError";this.message=e+" [Command: "+d+"]"};b.prototype=Error.prototype;var a=function(){var d={};this.handle=function(f,e){if(this.hasHandler(f)){throw new b("Command handler already set",f)}if("function"!==typeof e){throw new b("Command handler is not a function",f)}d[f]=e};this.removeHandler=function(f){if(!this.hasHandler(f)){throw new b("Command handler undefined",f)}var e=d[f];delete d[f];return e};this.hasHandler=function(e){return"undefined"!==typeof d[e]};this.request=function(f){var e=(function(h){var g=[];for(var j in h){g.push(h[j])}return g})(arguments);f=e.shift();if(!this.hasHandler(f)){throw new b("Command handler undefined",f)}return d[f].apply(null,e)}};c.Reacher=function(){return new a()};c.ReacherError=b})(typeof module!=="undefined"&&module.exports?module.exports:window);